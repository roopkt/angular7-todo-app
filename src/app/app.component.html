<mat-toolbar color="primary">
  <mat-toolbar-row>
    Angular 7 & Mongo Db Todo List
  </mat-toolbar-row>
</mat-toolbar>

<mat-card class="example-card">
  <mat-card-header>
    <mat-card-title>
      Todo List
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="todoForm" class="todo-form">
      <table>
        <tr>
          <td>
            <mat-form-field>
              <input
                matInput
                placeholder="Enter Task"
                formControlName="task"
                required
              />
              <mat-error
                *ngIf="
                  todoForm.controls.task.invalid &&
                  (todoForm.controls.task.dirty ||
                    todoForm.controls.task.touched)
                "
              >
                {{ getErrorMessage() }}
              </mat-error>
            </mat-form-field>
          </td>
          <td>
            <button
              mat-raised-button
              color="primary"
              [disabled]="!todoForm.valid"
              (click)="create()"
              type="submit"
            >
              Create
            </button>
          </td>
        </tr>
      </table>
    </form>
    <mat-divider></mat-divider>

    <mat-list>
      <h3 mat-subheader>Notes</h3>
      <mat-list-item *ngFor="let todo of todoList">
        <mat-icon mat-list-icon>note</mat-icon>
        <h4 mat-line>{{ todo.task }}</h4>
        <p mat-line>{{ todo.createdAt | date }}</p>
        <button mat-icon-button color="warn" (click)="deleteTodo(todo._id)">
          <mat-icon mat-list-icon aria-label="icon-button with a delete icon"
            >delete</mat-icon
          >
        </button>
      </mat-list-item>
    </mat-list>
  </mat-card-content>
</mat-card>
